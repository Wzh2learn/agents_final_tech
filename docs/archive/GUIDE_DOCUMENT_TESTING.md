# æ–‡æ¡£è§£ææµ‹è¯•æŒ‡å—

## ğŸ“‹ æµ‹è¯•å‰å‡†å¤‡

### 1. æ”¯æŒçš„æ–‡ä»¶æ ¼å¼

å½“å‰ç³»ç»Ÿæ”¯æŒä»¥ä¸‹æ–‡æ¡£æ ¼å¼ï¼š
- `.txt` - çº¯æ–‡æœ¬æ–‡ä»¶
- `.md` - Markdownæ–‡ä»¶
- `.pdf` - PDFæ–‡æ¡£ï¼ˆéœ€è¦å®‰è£…pypdfï¼‰
- `.docx` - Wordæ–‡æ¡£ï¼ˆéœ€è¦å®‰è£…python-docxï¼‰
- `.csv` - CSVæ–‡ä»¶
- `.json` - JSONæ–‡ä»¶

### 2. å®‰è£…å¯é€‰ä¾èµ–

å¦‚æœéœ€è¦å¤„ç†PDFæˆ–Wordæ–‡æ¡£ï¼Œè¯·å®‰è£…ç›¸åº”ä¾èµ–ï¼š

```bash
pip install pypdf python-docx
```

## ğŸ§ª æµ‹è¯•åœºæ™¯

### åœºæ™¯1ï¼šè§£æMarkdownæ ¼å¼çš„è§„åˆ™æ–‡æ¡£

**æµ‹è¯•æ­¥éª¤ï¼š**

1. å‡†å¤‡æµ‹è¯•æ–‡æ¡£ `assets/test_rule_document.md`ï¼ˆå·²æä¾›ï¼‰

2. å‘é€æµ‹è¯•æŒ‡ä»¤ï¼š
```
è¯·ä½¿ç”¨document_processorå·¥å…·å¤„ç† assets/test_rule_document.md æ–‡æ¡£ï¼Œè§’è‰²è®¾ä¸ºproduct_manager
```

3. é¢„æœŸè¾“å‡ºï¼š
   - æˆåŠŸè§£ææ–‡æ¡£å†…å®¹
   - æå–ç»“æ„åŒ–çš„è§„åˆ™è¡¨æ ¼
   - è¡¨æ ¼åŒ…å«ï¼šè§„åˆ™IDã€è§„åˆ™åç§°ã€è§¦å‘æ¡ä»¶ã€æ‰§è¡ŒåŠ¨ä½œã€é…ç½®å‚æ•°ã€ä¸šåŠ¡åœºæ™¯ã€æ³¨æ„äº‹é¡¹

4. éªŒè¯è¦ç‚¹ï¼š
   - âœ… è¡¨æ ¼æ ¼å¼æ­£ç¡®
   - âœ… å…³é”®ä¿¡æ¯æå–å®Œæ•´
   - âœ… æ— é¢å¤–çš„è§£é‡Šæ–‡å­—

### åœºæ™¯2ï¼šè§£æJSONæ ¼å¼çš„è§„åˆ™æ–‡æ¡£

**æµ‹è¯•æ­¥éª¤ï¼š**

1. åˆ›å»ºæµ‹è¯•JSONæ–‡æ¡£ï¼š
```bash
cat > assets/test_rule.json << 'EOF'
{
  "rule_name": "è´¦æˆ·åˆ›å»ºè§„åˆ™",
  "description": "å½“ç”¨æˆ·æäº¤å»ºè´¦ç”³è¯·æ—¶ï¼Œç³»ç»Ÿéœ€è¦è‡ªåŠ¨åˆ›å»ºåŸºç¡€è´¦æˆ·ç»“æ„ã€‚",
  "conditions": ["ç”¨æˆ·å·²ç™»å½•", "ç”¨æˆ·æœªåˆ›å»ºè´¦æˆ·"],
  "actions": ["åˆ›å»ºä¸»è´¦æˆ·", "åˆ›å»ºå­è´¦æˆ·", "åˆå§‹åŒ–ä½™é¢ä¸º0"],
  "parameters": {
    "account_type": ["å¯¹å…¬è´¦æˆ·", "å¯¹ç§è´¦æˆ·"],
    "currency": ["CNY", "USD", "EUR"]
  }
}
EOF
```

2. å‘é€æµ‹è¯•æŒ‡ä»¤ï¼š
```
è¯·ä½¿ç”¨document_processorå·¥å…·å¤„ç† assets/test_rule.json æ–‡æ¡£ï¼Œè§’è‰²è®¾ä¸ºtech_developer
```

3. é¢„æœŸè¾“å‡ºï¼š
   - æˆåŠŸè§£æJSONç»“æ„
   - æå–è§„åˆ™ä¿¡æ¯åˆ°è¡¨æ ¼

### åœºæ™¯3ï¼šè§„åˆ™æ ¡éªŒæµ‹è¯•

**æµ‹è¯•æ­¥éª¤ï¼š**

1. å…ˆä½¿ç”¨document_processoræå–è§„åˆ™è¡¨æ ¼

2. å¯¹æå–çš„è§„åˆ™è¿›è¡Œæ ¡éªŒï¼š
```
è¯·ä½¿ç”¨validate_ruleså·¥å…·æ ¡éªŒåˆšæ‰æå–çš„è§„åˆ™è¡¨æ ¼æ˜¯å¦åˆç†
```

3. é¢„æœŸè¾“å‡ºï¼š
   - æ•´ä½“è¯„åˆ†ï¼ˆ0-10åˆ†ï¼‰
   - é€šè¿‡/ä¸é€šè¿‡åˆ¤å®š
   - è¯¦ç»†å»ºè®®å’Œæ”¹è¿›ç‚¹

### åœºæ™¯4ï¼šä¸åŒè§’è‰²è§†è§’çš„è§£æ

**æµ‹è¯•æ­¥éª¤ï¼š**

1. ä½¿ç”¨äº§å“ç»ç†è§’è‰²ï¼š
```
è¯·ä½¿ç”¨document_processorå·¥å…·å¤„ç† assets/test_rule_document.mdï¼Œè§’è‰²è®¾ä¸ºproduct_manager
```

2. ä½¿ç”¨æŠ€æœ¯å¼€å‘è§’è‰²ï¼š
```
è¯·ä½¿ç”¨document_processorå·¥å…·å¤„ç† assets/test_rule_document.mdï¼Œè§’è‰²è®¾ä¸ºtech_developer
```

3. å¯¹æ¯”è¾“å‡ºï¼š
   - è§‚å¯Ÿä¸åŒè§’è‰²è§†è§’ä¸‹æå–çš„è§„åˆ™é‡ç‚¹å·®å¼‚
   - éªŒè¯è§’è‰²åŒ–å¤„ç†æ˜¯å¦ç”Ÿæ•ˆ

## ğŸ“Š æµ‹è¯•éªŒè¯æ¸…å•

### åŠŸèƒ½éªŒè¯

- [ ] æ–‡æ¡£å†…å®¹è¯»å–æ­£å¸¸
- [ ] è§„åˆ™è¡¨æ ¼æ ¼å¼æ­£ç¡®
- [ ] å…³é”®ä¿¡æ¯æå–å®Œæ•´
- [ ] è§’è‰²åŒ–å¤„ç†æœ‰æ•ˆ
- [ ] è§„åˆ™æ ¡éªŒåŠŸèƒ½æ­£å¸¸
- [ ] é”™è¯¯å¤„ç†å‹å¥½

### æ ¼å¼éªŒè¯

- [ ] è¡¨æ ¼ç¬¦åˆMarkdownæ ¼å¼
- [ ] æ— å¤šä½™çš„å‰è¨€æˆ–é—®å€™
- [ ] å­—æ®µå®Œæ•´æˆ–æ˜ç¡®æ ‡æ³¨[å¾…è¡¥å……]
- [ ] è¡¨æ ¼ç»“æ„æ¸…æ™°

### æ€§èƒ½éªŒè¯

- [ ] å¤§æ–‡æ¡£å¤„ç†æ—¶é—´åˆç†ï¼ˆ<30ç§’ï¼‰
- [ ] å¤šè½®å¤„ç†ç¨³å®š
- [ ] å†…å­˜ä½¿ç”¨æ­£å¸¸

## ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šæ–‡ä»¶è¯»å–å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š`é”™è¯¯ï¼šæ–‡ä»¶ä¸å­˜åœ¨`

**è§£å†³æ–¹æ³•**ï¼š
- ç¡®è®¤æ–‡ä»¶è·¯å¾„æ­£ç¡®
- ç¡®è®¤æ–‡ä»¶åœ¨ `assets/` ç›®å½•ä¸‹
- æ£€æŸ¥æ–‡ä»¶æƒé™

### é—®é¢˜2ï¼šPDF/DOCXè§£æå¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š`é”™è¯¯ï¼šPDF è§£æéœ€è¦å®‰è£… pypdf åº“`

**è§£å†³æ–¹æ³•**ï¼š
```bash
pip install pypdf python-docx
```

### é—®é¢˜3ï¼šæå–çš„è¡¨æ ¼æ ¼å¼ä¸æ­£ç¡®

**å¯èƒ½åŸå› **ï¼š
- æ–‡æ¡£æ ¼å¼ä¸è§„èŒƒ
- æ–‡æ¡£å†…å®¹ç¼ºå¤±å…³é”®ä¿¡æ¯

**è§£å†³æ–¹æ³•**ï¼š
- æ£€æŸ¥æ–‡æ¡£å†…å®¹æ˜¯å¦å®Œæ•´
- è°ƒæ•´æ–‡æ¡£æ ¼å¼
- ä½¿ç”¨validate_ruleså·¥å…·æ ¡éªŒ

## ğŸ“ˆ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

```markdown
# æ–‡æ¡£è§£ææµ‹è¯•æŠ¥å‘Š

## æµ‹è¯•æ—¥æœŸ
YYYY-MM-DD

## æµ‹è¯•ç¯å¢ƒ
- ç³»ç»Ÿç‰ˆæœ¬ï¼šv1.0
- Pythonç‰ˆæœ¬ï¼š3.x.x

## æµ‹è¯•ç»“æœ

### åŠŸèƒ½æµ‹è¯•
- [ ] Markdownæ–‡æ¡£è§£æï¼šé€šè¿‡/å¤±è´¥
- [ ] JSONæ–‡æ¡£è§£æï¼šé€šè¿‡/å¤±è´¥
- [ ] è§„åˆ™æ ¡éªŒï¼šé€šè¿‡/å¤±è´¥

### æ€§èƒ½æµ‹è¯•
- å¹³å‡å¤„ç†æ—¶é—´ï¼šXç§’
- æœ€å¤§æ–‡æ¡£å¤§å°ï¼šX MB

### å‘ç°çš„é—®é¢˜
1. é—®é¢˜æè¿°
2. é—®é¢˜æè¿°

### æ”¹è¿›å»ºè®®
1. å»ºè®®å†…å®¹
2. å»ºè®®å†…å®¹
```

## ğŸ¯ æµ‹è¯•æœ€ä½³å®è·µ

1. **æ¸è¿›å¼æµ‹è¯•**ï¼šä»ç®€å•æ ¼å¼ï¼ˆtxt/mdï¼‰å¼€å§‹ï¼Œé€æ­¥æµ‹è¯•å¤æ‚æ ¼å¼ï¼ˆpdf/docxï¼‰
2. **è¾¹ç•Œæµ‹è¯•**ï¼šæµ‹è¯•ç©ºæ–‡æ¡£ã€è¶…å¤§æ–‡æ¡£ã€ç‰¹æ®Šå­—ç¬¦æ–‡æ¡£
3. **å›å½’æµ‹è¯•**ï¼šä¿®æ”¹ä»£ç åé‡æ–°è¿è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
4. **æ—¥å¿—è®°å½•**ï¼šè®°å½•æ¯æ¬¡æµ‹è¯•çš„ç»“æœå’Œé—®é¢˜
