app:
  description: æ–‡æ¡£å¤„ç†æ™ºèƒ½ä½“ï¼šè§£æâ†’æå–â†’å®¡æ ¸â†’ç”Ÿæˆå·®å¼‚â†’äººå·¥ç¡®è®¤â†’å…¥åº“
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: WF_DocumentProcessor_v1
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: bowenliang123/md_exporter:2.2.0@9f39c2c2c1cd09180e2cc053090adc9886019483f502727467f136712b8b9639
    version: null
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: hjlarry/knowledge:0.0.1@e7ae030ac64b673b258a77bf46510726326653195b646e85452303c9a84444ec
    version: null
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/moonshot:0.0.9@02018dd44e2a5ece9a29028969025eee866758dfab1469b419b4a23ffba5edea
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .txt
      - .md
      - .pdf
      - .docx
      allowed_file_types:
      - document
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 1
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: llm
      id: 1764589687949-source-extract_rules-target
      selected: false
      source: '1764589687949'
      sourceHandle: source
      target: extract_rules
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: extract_rules-source-1764589784457-target
      selected: false
      source: extract_rules
      sourceHandle: source
      target: '1764589784457'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1764590098038-true-audit_rules-target
      selected: false
      source: '1764590098038'
      sourceHandle: 'true'
      target: audit_rules
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1764590098038-false-generate_parse_error-target
      selected: false
      source: '1764590098038'
      sourceHandle: 'false'
      target: generate_parse_error
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: end
      id: audit_rules--1764590624842-target
      selected: false
      source: audit_rules
      sourceHandle: source
      target: '1764590624842'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: document-extractor
        targetType: llm
      id: 1764589687949-source-1764928226404-target
      selected: false
      source: '1764589687949'
      sourceHandle: source
      target: '1764928226404'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1764589784457-source-1764590098038-target
      selected: false
      source: '1764589784457'
      sourceHandle: source
      target: '1764590098038'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: tool
      id: 1764928226404-source-1765176560730-target
      selected: false
      source: '1764928226404'
      sourceHandle: source
      target: '1765176560730'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: end
      id: 1765176560730-source-1764928553547-target
      selected: false
      source: '1765176560730'
      sourceHandle: source
      target: '1764928553547'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: tool
      id: generate_parse_error-source-1765180974687-target
      selected: false
      source: generate_parse_error
      sourceHandle: source
      target: '1765180974687'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: end
      id: 1765180974687-source-1764590836204-target
      selected: false
      source: '1765180974687'
      sourceHandle: source
      target: '1764590836204'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: llm
      id: start-source-1765187080935-target
      source: start
      sourceHandle: source
      target: '1765187080935'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: document-extractor
      id: 1765187080935-source-1764589687949-target
      source: '1765187080935'
      sourceHandle: source
      target: '1764589687949'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          default: ''
          hint: ''
          label: user_files
          max_length: 5
          options: []
          placeholder: ''
          required: true
          type: file-list
          variable: user_files
      height: 108
      id: start
      position:
        x: 201.42335579681878
        y: 282
      positionAbsolute:
        x: 201.42335579681878
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.2
          mode: chat
          name: moonshot-v1-8k
          provider: langgenius/moonshot/moonshot
        prompt_template:
        - id: system
          role: system
          text: 'ä»æ–‡æ¡£ä¸­æå–ä¸šåŠ¡è§„åˆ™ã€‚

            Â  Â  Â  Â  Â  Â  æ–‡æ¡£å†…å®¹: {{#1764589687949.text#}}

            Â  Â  Â  Â  Â  Â  è¾“å‡º JSON æ•°ç»„: [{"rule_id": "...", "condition": "...", "action":
            "..."}]'
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              approved:
                description: è§„åˆ™æ˜¯å¦é€šè¿‡å®¡æ ¸ï¼Œtrue è¡¨ç¤ºé€šè¿‡ï¼Œfalse è¡¨ç¤ºä¸é€šè¿‡
                type: boolean
              reason:
                description: ç®€è¦è¯´æ˜å®¡æ ¸é€šè¿‡æˆ–ä¸é€šè¿‡çš„åŸå› 
                type: string
            required:
            - approved
            - reason
            type: object
        structured_output_enabled: false
        title: æå–è§„åˆ™
        type: llm
        vision:
          enabled: false
      height: 87
      id: extract_rules
      position:
        x: 1282
        y: 303
      positionAbsolute:
        x: 1282
        y: 303
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        context:
          enabled: true
          variable_selector:
          - extract_rules
          - text
        desc: ''
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: moonshot-v1-8k
          provider: langgenius/moonshot/moonshot
        prompt_template:
        - id: system
          role: system
          text: '{{#context#}}æ€»ç»“éœ€è¦å†™å…¥çŸ¥è¯†åº“çš„å†…å®¹'
        selected: false
        title: å†™å…¥è§„åˆ™åº“
        type: llm
        vision:
          enabled: false
      height: 87
      id: audit_rules
      position:
        x: 2359.983128193674
        y: 303
      positionAbsolute:
        x: 2359.983128193674
        y: 303
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        context:
          enabled: true
          variable_selector:
          - '1764589784457'
          - structured_output
          - reason
        desc: ''
        model:
          completion_params:
            temperature: 0.3
          mode: chat
          name: moonshot-v1-8k
          provider: langgenius/moonshot/moonshot
        prompt_template:
        - id: user
          role: user
          text: 'ã€å®¡æ ¸æœªé€šè¿‡ã€‘åŸå› : {{#context#}}

            è§„åˆ™å†…å®¹: {{#extract_rules.text#}}


            '
        selected: false
        title: ç”Ÿæˆé”™è¯¯æŠ¥å‘Š
        type: llm
        vision:
          enabled: false
      height: 87
      id: generate_parse_error
      position:
        x: 2359.983128193674
        y: 430
      positionAbsolute:
        x: 2359.983128193674
        y: 430
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        is_array_file: true
        selected: false
        title: æ–‡æ¡£æå–å™¨
        type: document-extractor
        variable_selector:
        - start
        - user_files
      height: 103
      id: '1764589687949'
      position:
        x: 940.141283808531
        y: 303
      positionAbsolute:
        x: 940.141283808531
        y: 303
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        context:
          enabled: true
          variable_selector:
          - extract_rules
          - text
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: moonshot-v1-8k
          provider: langgenius/moonshot/moonshot
        prompt_template:
        - id: 1052d905-70a5-480f-8649-06b61ae6b16b
          role: system
          text: 'ä½ æ˜¯è§„åˆ™å®‰å…¨ä¸åˆç†æ€§å®¡æ ¸åŠ©æ‰‹ã€‚


            ã€å¾…å®¡æ ¸è§„åˆ™ã€‘

            {{#context#}}


            å®¡æ ¸è¦æ±‚ï¼š

            1. åˆ¤æ–­è§„åˆ™æ˜¯å¦å­˜åœ¨ä¸šåŠ¡é£é™©æˆ–åˆè§„é£é™©ã€‚

            2. åˆ¤æ–­è§„åˆ™æ˜¯å¦å­˜åœ¨æ˜æ˜¾é€»è¾‘é”™è¯¯æˆ–è‡ªç›¸çŸ›ç›¾ã€‚

            3. ç»™å‡ºç®€çŸ­ã€æ˜ç¡®çš„ç†ç”±ã€‚


            ä¸¥æ ¼æŒ‰ç…§ç³»ç»Ÿå®šä¹‰çš„ JSON ç»“æ„è¾“å‡ºï¼Œä¸è¦æ·»åŠ ä»»ä½•å¤šä½™å­—æ®µæˆ–æ–‡å­—ï¼š

            - approved: true è¡¨ç¤ºè§„åˆ™å¯ä»¥é€šè¿‡ï¼›false è¡¨ç¤ºè§„åˆ™å­˜åœ¨é£é™©æˆ–é—®é¢˜ï¼›

            - reason: ç”¨ä¸€ä¸¤å¥è¯è¯´æ˜åŸå› ã€‚

            '
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              approved:
                description: è§„åˆ™æ˜¯å¦é€šè¿‡å®¡æ ¸ï¼Œtrue è¡¨ç¤ºé€šè¿‡ï¼Œfalse è¡¨ç¤ºä¸é€šè¿‡
                type: string
              reason:
                description: ç®€è¦è¯´æ˜å®¡æ ¸é€šè¿‡æˆ–ä¸é€šè¿‡çš„åŸå› 
                type: string
            required:
            - approved
            - reason
            type: object
        structured_output_enabled: true
        title: æ™ºèƒ½å®¡æ ¸
        type: llm
        vision:
          enabled: false
      height: 87
      id: '1764589784457'
      position:
        x: 1626.5456892524346
        y: 303
      positionAbsolute:
        x: 1626.5456892524346
        y: 303
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 994b7c87-b920-4741-b9eb-def9ebdbca55
            value: 'true'
            varType: string
            variable_selector:
            - '1764589784457'
            - structured_output
            - approved
          id: 'true'
          logical_operator: and
        selected: true
        title: å®¡æ ¸é€šè¿‡ä¸å¦
        type: if-else
      height: 123
      id: '1764590098038'
      position:
        x: 1982.3136502651132
        y: 303
      positionAbsolute:
        x: 1982.3136502651132
        y: 303
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        desc: ''
        outputs:
        - value_selector:
          - audit_rules
          - text
          value_type: string
          variable: text
        selected: false
        title: ç»“æŸ
        type: end
      height: 87
      id: '1764590624842'
      position:
        x: 2741.7757468552672
        y: 303
      positionAbsolute:
        x: 2741.7757468552672
        y: 303
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        desc: ã€å¾…äººå·¥ç¡®è®¤ã€‘
        outputs:
        - value_selector:
          - generate_parse_error
          - text
          value_type: string
          variable: text
        selected: false
        title: å†™å…¥çŸ¥è¯†åº“
        type: end
      height: 115
      id: '1764590836204'
      position:
        x: 3097.141116062223
        y: 430
      positionAbsolute:
        x: 3097.141116062223
        y: 430
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        context:
          enabled: true
          variable_selector:
          - '1764589687949'
          - text
        desc: ã€Šæ‰˜ç®¡ä¼°å€¼è¾…åŠ©å»ºè´¦è§„åˆ™å­—å…¸ï¼ˆä¸šåŠ¡ç‰ˆï¼‰ã€‹
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: moonshot-v1-8k
          provider: langgenius/moonshot/moonshot
        prompt_template:
        - id: b4d5495c-88e8-4623-826a-fea6a3763f79
          role: system
          text: '# è§’è‰² (Role)

            ä½ æ˜¯ä¸€ä¸ªä¸“æ³¨äºé‡‘èå»ºè´¦ä¸šåŠ¡è§„åˆ™å¤„ç†çš„â€œå»ºè´¦è§„åˆ™è½¬æ¢ä¸“å®¶â€ã€‚ä½ çš„æ ¸å¿ƒä»»åŠ¡æ˜¯ç²¾å‡†åœ°å°†ä¸€æ®µéç»“æ„åŒ–çš„é‡‘èå»ºè´¦ä¸šåŠ¡è§„åˆ™æè¿°æ–‡æœ¬ ï¼Œè½¬åŒ–ä¸ºç‰¹å®šçš„æ ‡å‡†åŒ–`è§„åˆ™å­—å…¸`è¡¨æ ¼å½¢å¼ã€‚


            ä½ çŠ¹å¦‚ä¸€ä½ç»éªŒä¸°å¯Œçš„é‡‘èä¸šåŠ¡åˆ†æå¸ˆï¼Œå¯¹é‡‘èå»ºè´¦é¢†åŸŸçŸ¥è¯†äº†å¦‚æŒ‡æŒï¼Œèƒ½å¤Ÿè¿…é€Ÿä¸”å‡†ç¡®åœ°ä»æ–‡æ¡£ä¸­æç‚¼å‡ºè§„åˆ™çš„IDã€åç§°ã€è§¦å‘æ¡ä»¶ã€æ‰§è¡ŒåŠ¨ä½œã€é…ç½®å‚æ•°ç­‰å…³é”®è¦ç´ ï¼Œå¹¶åˆç†å½’ç±»åˆ°ç›¸åº”è¡¨æ ¼ä½ç½®ã€‚


            # ä»»åŠ¡ (Task)

            æˆ‘ä¼šæä¾›ä¸€æ®µå…³äºé‡‘èå»ºè´¦ä¸šåŠ¡è§„åˆ™çš„æ–‡æœ¬æè¿°ã€‚ä½ éœ€è¦å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š

            1. ä»”ç»†ã€å…¨é¢åœ°é˜…è¯»å¹¶é€å½»ç†è§£æ–‡æœ¬ä¸­çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä¸æ”¾è¿‡ä»»ä½•ç»†èŠ‚ã€‚

            2. ä¸¥æ ¼ä¾æ®æˆ‘ç»™å®šçš„`è§„åˆ™å­—å…¸`è¾“å‡ºæ ¼å¼ï¼Œç”Ÿæˆä¸€ä¸ªè§„èŒƒçš„Markdownè¡¨æ ¼ã€‚

            3. å°½æœ€å¤§åŠªåŠ›æŠŠæ–‡æœ¬ä¸­çš„æ¯ä¸€æ¡æœ‰æ•ˆä¿¡æ¯ï¼Œåˆç†å½’çº³åˆ°è¡¨æ ¼ä¸­æœ€åˆé€‚çš„å­—æ®µé‡Œã€‚å¯¹äºæºæ–‡æœ¬ä¸­ç¡®å®ä¸å­˜åœ¨çš„å­—æ®µï¼ˆå¦‚è§„åˆ™IDã€æ›´æ–°æ—¥æœŸç­‰ï¼‰ï¼Œå¯ä»¥ç•™ç©ºæˆ–ä½¿ç”¨å ä½ç¬¦
            `[å¾…è¡¥å……]`ã€‚


            # èƒŒæ™¯ (Context)

            æˆ‘æ­£åœ¨æ­å»ºä¸€ä¸ªç»“æ„åŒ–çš„é‡‘èå»ºè´¦è§„åˆ™çŸ¥è¯†åº“ã€‚åŸå§‹çš„ä¸šåŠ¡æ–‡æ¡£é‡‡ç”¨è‡ªç„¶è¯­è¨€æ’°å†™ï¼Œæ ¼å¼ç¼ºä¹ç»Ÿä¸€è§„èŒƒï¼Œè¿™ç»™ç³»ç»ŸåŒ–çš„ç®¡ç†å’ŒæŸ¥è¯¢å¸¦æ¥äº†æå¤§å›°éš¾ã€‚æˆ‘éœ€è¦ä½ åŠ©åŠ›å®Œæˆä»â€œéç»“æ„åŒ–æ–‡æœ¬â€åˆ°â€œç»“æ„åŒ–æ•°æ®â€çš„å…³é”®è½¬å˜ï¼Œä¸ºåç»­çš„è§„åˆ™å¼•æ“ã€RAGç³»ç»Ÿæˆ–å›¢é˜ŸçŸ¥è¯†åº“å¥ å®šåšå®åŸºç¡€ã€‚


            # è¾“å‡ºæ ¼å¼ (Output Format) - ã€å¼ºåˆ¶ã€‘


            ä½ çš„å”¯ä¸€è¾“å‡ºå¿…é¡»æ˜¯ä»¥ä¸‹æ ¼å¼çš„ Markdown è¡¨æ ¼ã€‚ä¸¥ç¦åœ¨è¡¨æ ¼å‰åæ·»åŠ ä»»ä½•é¢å¤–çš„è§£é‡Šã€é—®å€™æˆ–è¯´æ˜æ–‡å­—ã€‚


            | å­—æ®µ | è¯´æ˜ | æå–å†…å®¹ |

            | :--- | :--- | :--- |

            | **è§„åˆ™ID** | å”¯ä¸€æ ‡è¯† | `[ä»æ–‡æœ¬ä¸­æå–çš„IDï¼›æ²¡æœ‰å°±å¡«[å¾…è¡¥å……]]` |

            | **è§„åˆ™åç§°** | ä¸šåŠ¡æè¿° | `[ä»æ–‡æœ¬ä¸­ç²¾å‡†æç‚¼å‡ºçš„è§„åˆ™åç§°ï¼Œä¾‹å¦‚ï¼šâ€œè¾…åŠ©å»ºè´¦é€šç”¨å®å®šä¹‰ä¸åŸºç¡€é»˜è®¤è§„åˆ™â€]` |

            | **æœ€åæ›´æ–°** | ç”Ÿæ•ˆæ—¥æœŸ | `[ä»æ–‡æœ¬ä¸­æå–çš„æ—¥æœŸï¼›æ²¡æœ‰å°±å¡«[å¾…è¡¥å……]]` |

            | **æ¥æºä½ç½®** | æ–‡æ¡£ä½ç½® | `[æ–‡æ¡£ç« èŠ‚/é¡µç /æ ‡é¢˜ï¼Œä¾‹å¦‚ï¼šâ€œæ–‡æ¡£ç¬¬2éƒ¨åˆ† å®å®šä¹‰â€]` |

            | **ç”¨æˆ·é—®é¢˜** | å…¸å‹çš„ç”¨æˆ·é—®æ³• | `[åŸºäºæœ¬æ¡è§„åˆ™ï¼Œæ„é€ ä¸€ä¸ªæœ€è´´è¿‘å®é™…çš„å…¸å‹é—®æ³•]` |

            | **è§„åˆ™é€»è¾‘** | IF-THEN-ELSEç»“æ„ | `[ä½¿ç”¨ Phase 1 / Phase 2 / ... çš„å½¢å¼ï¼Œå®Œæ•´æè¿°è§„åˆ™é€»è¾‘ï¼Œç¤ºä¾‹è§ä½ å·²æœ‰è§„åˆ™æ ·å¼]`
            |

            | **æ•°æ®æ¥æº** | å…³é”®æ•°æ®æ¥æº | `[åˆ—å‡ºè§„åˆ™ä¸­ç”¨åˆ°çš„å…³é”®æ•°æ®æ¥æºå’Œå»å‘ï¼Œå¦‚ç³»ç»Ÿæ—¥æœŸã€äº§å“ä¿¡æ¯ã€æ¥å£è¡¨ç­‰]` |

            | **ä¸šåŠ¡ç¤ºä¾‹** | å…·ä½“åœºæ™¯ | `[æ„é€ æˆ–å¤ç”¨ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡åœºæ™¯ï¼Œè¯´æ˜è§¦å‘æ¡ä»¶ã€ç³»ç»Ÿè¡Œä¸ºå’Œç»“æœ]` |


            å¦‚æœæ˜¯å¤šæ¡è§„åˆ™ï¼Œè¯·æŒ‰ä¸Šè¿°ç»“æ„è¿ç»­ç”Ÿæˆå¤šä¸ªè¡¨æ ¼ï¼Œæ¯æ¡è§„åˆ™å¯¹åº”ä¸€ä¸ªè¡¨æ ¼ã€‚



            ## æ ¸å¿ƒæŒ‡ä»¤ä¸åŸåˆ™ (Core Directives & Principles)

            1. **ç²¾ç¡®æå–**ï¼šä½ çš„ä¸»è¦ä»»åŠ¡æ˜¯â€œæå–å’Œé‡ç»„â€ä¿¡æ¯ï¼Œè€Œéâ€œåˆ›é€ â€å†…å®¹ã€‚è¡¨æ ¼ä¸­å¡«å…¥çš„æ‰€æœ‰ä¿¡æ¯éƒ½å¿…é¡»ç›´æ¥æˆ–é—´æ¥æ¥æºäºæˆ‘æä¾›çš„æºæ–‡æœ¬ã€‚

            2. **é€»è¾‘æ•´åˆ**ï¼šâ€œè§„åˆ™é€»è¾‘â€å­—æ®µæ˜¯é‡ä¸­ä¹‹é‡ã€‚ä½ å¿…é¡»æ·±å…¥ç†è§£æ–‡æœ¬ä¸­åˆ†æ•£çš„é€»è¾‘çº¿ç´¢ï¼ˆå¦‚â€œå»ºè´¦å‰â€ã€â€œå»ºè´¦ä¸­â€ã€â€œé»˜è®¤è§„åˆ™â€ç­‰ï¼‰ï¼Œå¹¶å°†å…¶æ•´åˆæˆä¸€ä¸ªè¿è´¯ã€æœ‰åºã€åˆ†é˜¶æ®µçš„`IF
            - THEN - ELSE`æµç¨‹ï¼Œç¡®ä¿é€»è¾‘ä¸¥è°¨ã€æ— æ¼æ´ã€‚

            3. **å½’çº³ä¸æç‚¼**ï¼šå¯¹äºâ€œè§„åˆ™åç§°â€å’Œâ€œç”¨æˆ·é—®é¢˜â€è¿™ç±»éœ€è¦å½’çº³æ€»ç»“çš„å­—æ®µï¼Œè¦å‡†ç¡®æŠŠæ¡æ–‡æœ¬çš„æ ¸å¿ƒæ„å›¾ï¼Œç”¨ç®€æ´ã€æ°å½“çš„è¯­è¨€è¿›è¡Œè¡¨è¿°ã€‚

            4. **æ ¼å¼æ´ç™–**ï¼šä¸¥æ ¼éµå¾ªè¾“å‡ºæ ¼å¼è¦æ±‚ï¼Œæœç»å‡ºç°ä»»ä½•å¤šä½™çš„å­—ç¬¦ã€‚Markdownè¡¨æ ¼çš„è¯­æ³•å¿…é¡»å‡†ç¡®æ— è¯¯ã€‚

            5. **å ä½ç¬¦ä½¿ç”¨**ï¼šå¯¹äºæºæ–‡æœ¬ä¸­æ˜æ˜¾ç¼ºå¤±çš„ä¿¡æ¯ï¼ˆå¦‚IDã€æ—¥æœŸï¼‰ï¼ŒåŠ¡å¿…ä½¿ç”¨ `[å¾…è¡¥å……]` ä½œä¸ºå ä½ç¬¦ï¼Œä»¥ä¾¿äºæˆ‘åç»­çš„æ•°æ®æ¸…ç†å·¥ä½œã€‚

            å¦‚æœæ˜¯å¤šæ¡è§„åˆ™ï¼Œæˆ‘è¦å¤šä¸ªè¡¨æ ¼çš„å½¢å¼



            ã€è¾“å…¥æ–‡æœ¬ã€‘

            {{#context#}}

            ç°åœ¨ï¼Œè¯·ä¸¥æ ¼æŒ‰ç…§ä¸Šé¢â€œè¾“å‡ºæ ¼å¼ (Output Format)â€çš„è¦æ±‚ï¼Œåªè¾“å‡º Markdown è¡¨æ ¼ï¼Œä¸è¦è¾“å‡ºä»»ä½•å¤šä½™è¯´æ˜ã€‚

            ã€å…³é”®é™åˆ¶ã€‘

            - ä½ å¿…é¡»ç›´æ¥è¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ª Markdown è¡¨æ ¼ï¼Œè¡¨å¤´ä¸ºï¼šå­—æ®µï½œè¯´æ˜ï½œæå–å†…å®¹ã€‚

            - è¡¨æ ¼å‰åä¸è¦æœ‰ä»»ä½•æ–‡å­—ï¼ˆåŒ…æ‹¬è¯´æ˜ã€æ³¨é‡Šã€è¾“å…¥æ–‡æœ¬å¤è¿°ç­‰ï¼‰ã€‚

            - å¦‚æœä½ è¾“å‡ºäº†éè¡¨æ ¼å†…å®¹ï¼Œå°†è§†ä¸ºä»»åŠ¡å¤±è´¥ã€‚'
        selected: false
        structured_output_enabled: false
        title: è¡¨æ ¼è§„åˆ™æå–
        type: llm
        vision:
          enabled: false
      height: 131
      id: '1764928226404'
      position:
        x: 1246
        y: 430
      positionAbsolute:
        x: 1246
        y: 430
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        desc: ã€Šæ‰˜ç®¡ä¼°å€¼è¾…åŠ©å»ºè´¦è§„åˆ™å­—å…¸ï¼ˆä¸šåŠ¡ç‰ˆï¼‰ã€‹
        outputs:
        - value_selector:
          - '1764928226404'
          - text
          value_type: string
          variable: doc
        selected: false
        title: ã€Šæ‰˜ç®¡ä¼°å€¼è¾…åŠ©å»ºè´¦è§„åˆ™å­—å…¸ï¼ˆä¸šåŠ¡ç‰ˆï¼‰ã€‹å±•ç¤º
        type: end
      height: 131
      id: '1764928553547'
      position:
        x: 1924.497697074594
        y: 430
      positionAbsolute:
        x: 1924.497697074594
        y: 430
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Markdown text
            ja_JP: Markdown text
            pt_BR: Markdown text
            zh_Hans: Markdownæ ¼å¼æ–‡æœ¬
          label:
            en_US: Markdown text
            ja_JP: Markdown text
            pt_BR: Markdown text
            zh_Hans: Markdownæ ¼å¼æ–‡æœ¬
          llm_description: ''
          max: null
          min: null
          name: md_text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Optional docx template file for stylingã€‚Use "Home"-"Styles Pane"
              in Microsoft Word to edit styles of the docx file.
            ja_JP: Optional docx template file for stylingã€‚Use "Home"-"Styles Pane"
              in Microsoft Word to edit styles of the docx file.
            pt_BR: Optional docx template file for stylingã€‚Use "Home"-"Styles Pane"
              in Microsoft Word to edit styles of the docx file.
            zh_Hans: å¯é€‰çš„docxæ¨¡æ¿æ–‡ä»¶ï¼Œç”¨äºæ ·å¼æ§åˆ¶ã€‚ä½¿ç”¨Microsoft Wordä¸­â€œå¼€å§‹â€-â€œæ ·å¼çª—æ ¼â€å¯¹docxæ–‡ä»¶çš„æ ·å¼è¿›è¡Œç¼–è¾‘ã€‚
          label:
            en_US: DOCX Template File
            ja_JP: DOCX Template File
            pt_BR: DOCX Template File
            zh_Hans: DOCX æ¨¡æ¿æ–‡ä»¶
          llm_description: An optional .pptx file that serves as a template for the
            generated presentation
          max: null
          min: null
          name: docx_template_file
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: file
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Optional custom output file name, and the filename suffix is not
              required.
            ja_JP: Optional custom output file name, and the filename suffix is not
              required.
            pt_BR: Optional custom output file name, and the filename suffix is not
              required.
            zh_Hans: å¯é€‰çš„è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶åï¼Œåç¼€åæ— éœ€æŒ‡å®š
          label:
            en_US: Output Filename
            ja_JP: Output Filename
            pt_BR: Output Filename
            zh_Hans: è¾“å‡ºæ–‡ä»¶å
          llm_description: ''
          max: null
          min: null
          name: output_filename
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          docx_template_file: ''
          md_text: ''
          output_filename: ''
        plugin_id: bowenliang123/md_exporter
        plugin_unique_identifier: bowenliang123/md_exporter:2.2.0@9f39c2c2c1cd09180e2cc053090adc9886019483f502727467f136712b8b9639
        provider_icon: https://cloud.dify.ai/console/api/workspaces/current/plugin/icon?tenant_id=192683d6-3d42-476e-9070-167da46b390e&filename=f0bad95cda1671b4e49f0e05df6122ef9ec5d554e138f128795d11d3806c00ef.svg
        provider_id: bowenliang123/md_exporter/md_exporter
        provider_name: bowenliang123/md_exporter/md_exporter
        provider_type: builtin
        selected: false
        title: Markdown è½¬ DOCX æ–‡ä»¶
        tool_configurations: {}
        tool_description: å°† Markdown è½¬æ¢ä¸º DOCX æ–‡ä»¶çš„å·¥å…·
        tool_label: Markdown è½¬ DOCX æ–‡ä»¶
        tool_name: md_to_docx
        tool_node_version: '2'
        tool_parameters:
          docx_template_file:
            type: constant
            value: null
          md_text:
            type: mixed
            value: '{{#1764928226404.text#}}'
          output_filename:
            type: mixed
            value: ã€Šæ‰˜ç®¡ä¼°å€¼è¾…åŠ©å»ºè´¦è§„åˆ™å­—å…¸ï¼ˆä¸šåŠ¡ç‰ˆï¼‰ã€‹
        type: tool
      height: 51
      id: '1765176560730'
      position:
        x: 1626.5456892524346
        y: 430
      positionAbsolute:
        x: 1626.5456892524346
        y: 430
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: the content you want to add to knowledge base
            ja_JP: the content you want to add to knowledge base
            pt_BR: the content you want to add to knowledge base
            zh_Hans: ä½ æƒ³è¦æ·»åŠ åˆ°çŸ¥è¯†åº“çš„å†…å®¹
          label:
            en_US: Content
            ja_JP: Content
            pt_BR: Content
            zh_Hans: å†…å®¹
          llm_description: the content you want to add to knowledge base
          max: null
          min: null
          name: text
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: which dataset you want to add to
            ja_JP: which dataset you want to add to
            pt_BR: which dataset you want to add to
            zh_Hans: ä½ æƒ³è¦æ·»åŠ åˆ°å“ªä¸ªæ•°æ®é›†
          label:
            en_US: Dataset ID
            ja_JP: Dataset ID
            pt_BR: Dataset ID
            zh_Hans: æ•°æ®é›† ID
          llm_description: which dataset you want to add to
          max: null
          min: null
          name: dataset_id
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: the name of the document
            ja_JP: the name of the document
            pt_BR: the name of the document
            zh_Hans: æ–‡æ¡£çš„åç§°
          label:
            en_US: Document Name
            ja_JP: Document Name
            pt_BR: Document Name
            zh_Hans: æ–‡æ¡£åç§°
          llm_description: the name of the document
          max: null
          min: null
          name: name
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: high_quality
          form: form
          human_description:
            en_US: the indexing technique you want to use
            ja_JP: the indexing technique you want to use
            pt_BR: the indexing technique you want to use
            zh_Hans: ä½ æƒ³è¦ä½¿ç”¨çš„ç´¢å¼•æ–¹å¼
          label:
            en_US: Index Method
            ja_JP: Index Method
            pt_BR: Index Method
            zh_Hans: ç´¢å¼•æ–¹å¼
          llm_description: ''
          max: null
          min: null
          name: indexing_technique
          options:
          - icon: ''
            label:
              en_US: High Quality
              ja_JP: High Quality
              pt_BR: High Quality
              zh_Hans: é«˜è´¨é‡
            value: high_quality
          - icon: ''
            label:
              en_US: Economy
              ja_JP: Economy
              pt_BR: Economy
              zh_Hans: ç»æµ
            value: economy
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: text_model
          form: form
          human_description:
            en_US: the chunk settings
            ja_JP: the chunk settings
            pt_BR: the chunk settings
            zh_Hans: åˆ†æ®µæ–¹å¼
          label:
            en_US: Chunk Method
            ja_JP: Chunk Method
            pt_BR: Chunk Method
            zh_Hans: åˆ†æ®µæ–¹å¼
          llm_description: ''
          max: null
          min: null
          name: doc_form
          options:
          - icon: ''
            label:
              en_US: General
              ja_JP: General
              pt_BR: General
              zh_Hans: é€šç”¨
            value: text_model
          - icon: ''
            label:
              en_US: Parent-child
              ja_JP: Parent-child
              pt_BR: Parent-child
              zh_Hans: çˆ¶å­åˆ†æ®µ
            value: hierarchical_model
          - icon: ''
            label:
              en_US: Q&A
              ja_JP: Q&A
              pt_BR: Q&A
              zh_Hans: Q&Aåˆ†æ®µ
            value: qa_model
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: only for Q&A Chunk Method
            ja_JP: only for Q&A Chunk Method
            pt_BR: only for Q&A Chunk Method
            zh_Hans: ä»…é€‚ç”¨äº Q&A åˆ†æ®µæ–¹å¼
          label:
            en_US: Document Language
            ja_JP: Document Language
            pt_BR: Document Language
            zh_Hans: æ–‡æ¡£è¯­è¨€
          llm_description: ''
          max: null
          min: null
          name: doc_language
          options:
          - icon: ''
            label:
              en_US: English
              ja_JP: English
              pt_BR: English
              zh_Hans: è‹±è¯­
            value: English
          - icon: ''
            label:
              en_US: Chinese
              ja_JP: Chinese
              pt_BR: Chinese
              zh_Hans: ä¸­æ–‡
            value: Chinese
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: '{"mode": "automatic"}

            '
          form: form
          human_description:
            en_US: 'Must be a valid JSON string, See plugin detail page for more details

              '
            ja_JP: 'Must be a valid JSON string, See plugin detail page for more details

              '
            pt_BR: 'Must be a valid JSON string, See plugin detail page for more details

              '
            zh_Hans: 'å¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ JSON å­—ç¬¦ä¸²ï¼Œè¯·å‚è€ƒæ’ä»¶è¯¦æƒ…é¡µè·å–æ›´å¤šä¿¡æ¯

              '
          label:
            en_US: Process Rule
            ja_JP: Process Rule
            pt_BR: Process Rule
            zh_Hans: å¤„ç†è§„åˆ™
          llm_description: ''
          max: null
          min: null
          name: process_rule
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        params:
          dataset_id: ''
          doc_form: ''
          doc_language: ''
          indexing_technique: ''
          name: ''
          process_rule: ''
          text: ''
        plugin_id: hjlarry/knowledge
        plugin_unique_identifier: hjlarry/knowledge:0.0.1@e7ae030ac64b673b258a77bf46510726326653195b646e85452303c9a84444ec
        provider_icon: https://cloud.dify.ai/console/api/workspaces/current/plugin/icon?tenant_id=192683d6-3d42-476e-9070-167da46b390e&filename=8fa19727bdc381748bea850ee061cd18bd2b851bd61f53fc4ede2ccabd6a20ee.svg
        provider_id: hjlarry/knowledge/knowledge
        provider_name: hjlarry/knowledge/knowledge
        provider_type: builtin
        selected: false
        title: åˆ›å»ºæ–‡æ¡£
        tool_configurations:
          doc_form:
            type: constant
            value: text_model
          doc_language:
            type: constant
            value: Chinese
          indexing_technique:
            type: constant
            value: high_quality
          process_rule:
            type: mixed
            value: '{"mode": "automatic"}'
        tool_description: å°†difyçš„å·¥ä½œæµç”Ÿæˆçš„å†…å®¹ç›´æ¥æ·»åŠ è‡³å…¶çŸ¥è¯†åº“
        tool_label: åˆ›å»ºæ–‡æ¡£
        tool_name: knowledge
        tool_node_version: '2'
        tool_parameters:
          dataset_id:
            type: mixed
            value: 14cf9448-b904-4362-94bf-483325fc40da
          name:
            type: mixed
            value: è§„åˆ™é”™è¯¯ä¸´æ—¶
          text:
            type: mixed
            value: '{{#generate_parse_error.text#}}{{#extract_rules.text#}}'
        type: tool
      height: 165
      id: '1765180974687'
      position:
        x: 2733.041955861629
        y: 430
      positionAbsolute:
        x: 2733.041955861629
        y: 430
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    - data:
        context:
          enabled: false
          variable_selector: []
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: moonshot-v1-8k
          provider: langgenius/moonshot/moonshot
        prompt_template:
        - id: 35cf5073-477d-4a5f-856e-7dd776549a0d
          role: system
          text: 'æ”¶åˆ°çš„æ–‡ä»¶å˜é‡ user_files: {{#start.user_files#}}

            æ”¶åˆ°çš„æ–‡ä»¶å˜é‡ doc_file: {{#sys.files#}}

            '
        selected: false
        title: è°ƒè¯•
        type: llm
        vision:
          enabled: false
      height: 87
      id: '1765187080935'
      position:
        x: 640.7946862276153
        y: 303
      positionAbsolute:
        x: 640.7946862276153
        y: 303
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 241
    viewport:
      x: -689.7051845316896
      y: 1.920804019113291
      zoom: 0.711368113286303
  rag_pipeline_variables: []
